{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/canvas.js"],"names":["ctx","document","querySelector","getContext","canvas","text","getAttribute","fontSize","width","getBoundingClientRect","height","pixels","animation","radius","move","pull","dampen","density","mouse","Mouse","draw","Draw","init","frame","setText","font","fillStyle","textAlign","textBaseline","fillText","scene","particle","lx","x","ly","y","dx","Math","random","dy","pixelData","data","getImageData","rows","cols","row","col","pixelX","pixelY","rp","rc","pixel","colors","r","g","b","a","push","color","clear","requestAnimationFrame","distance","distanceFromMouse","shift","ax","sign","fillCircle","option","proporty","strokeText","beginPath","arc","PI","fill","clearRect","mX","mY","sqrt","pow","addEventListener","e","offsetX","offsetY","bind"],"mappings":"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","file":"./js/canvas.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/canvas.js\");\n","let ctx = document.querySelector('canvas').getContext('2d')\r\nlet canvas = ctx.canvas\r\nlet text = canvas.getAttribute('text');\r\nlet fontSize = canvas.getAttribute('size');\r\ncanvas.width = canvas.getBoundingClientRect().width\r\ncanvas.height = canvas.getBoundingClientRect().height\r\n\r\nlet pixels = []\r\nlet animation = {\r\n\tradius:4,\r\n\tmove: 0.25,\r\n\tpull: 0.15,\r\n\tdampen: 0.95,\r\n\tdensity: 5\r\n}\r\n\r\nlet mouse = new Mouse(canvas)\r\nlet draw = new Draw(ctx)\r\n\r\ninit()\r\nframe()\r\n\r\nfunction init(){\r\n\tdraw.setText({\r\n\t\tfont: `${fontSize}px monospace`,\r\n\t\tfillStyle: '#ff9840',\r\n\t\ttextAlign: 'center',\r\n\t\ttextBaseline: 'middle'\r\n\t})\r\n\tdraw.fillText(text, (canvas.width - fontSize) / 2 , canvas.height / 2);\r\n\tpixels = scene(ctx, animation.density)\r\n\tfor(var particle of pixels) {\r\n\t\tparticle.lx = particle.x\r\n\t\tparticle.ly = particle.y\r\n\t\tparticle.dx = Math.random() * 25 - 10\r\n\t\tparticle.dy = Math.random() * 25 - 10\r\n\t}\r\n}\r\n\r\n/*\r\n* Get pixels positions\r\n* @Params: {ctx} \t\t -> canvas context\r\n* @Params: {density} -> animation.density\r\n*/\r\nfunction scene(ctx, density){\r\n\tlet pixelData = [];\r\n\tlet data = ctx.getImageData(0, 0, ctx.canvas.width, ctx.canvas.height);\r\n\tlet rows = ctx.canvas.width / density;\r\n\tlet cols = ctx.canvas.height / density;\r\n\r\n\tfor(let row = 0; row < rows; row++){\r\n\t\tfor(let col = 0; col < cols; col++){\r\n\t\t\tlet pixelX = col * density + density / 2\r\n\t\t\tlet pixelY = row * density + density / 2\r\n\r\n\t\t\tfor(let rp = 0; rp < density; rp++) {\r\n\t\t\t\tfor(let rc = 0; rc < density; rc++) {\r\n\t\t\t\t\t// pixel -> pixel id\r\n\t\t\t\t\tlet pixel = ((row * density + rp) * ctx.canvas.width + (col * density + rc)) * 4\r\n\t\t\t\t\tlet colors = {\r\n\t\t\t\t\t\tr: data.data[pixel],\r\n\t\t\t\t\t\tg: data.data[pixel + 1],\r\n\t\t\t\t\t\tb: data.data[pixel + 2],\r\n\t\t\t\t\t\ta: data.data[pixel + 3],\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(colors.a){\r\n\t\t\t\t\t\t pixelData.push({ x: pixelX,\r\n\t\t\t\t\t\t \t\t\t\t\t\t\t\t\ty: pixelY,\r\n\t\t\t\t\t\t \t\t\t\t\t\t\t\t\tcolor: colors\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\trp = density;\r\n\t\t\t\t\t\trc = density;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\r\n\t\t}\r\n\t}\r\n\treturn pixelData\r\n}\r\n\r\n/*\r\n* Animation Frames\r\n*/\r\nfunction frame(){\r\n\tdraw.clear()\r\n\trequestAnimationFrame(frame)\r\n\r\n\tfor(var particle of pixels) {\r\n\t\tlet color =  `rgba(${particle.color.r},${particle.color.g},${particle.color.b},${particle.color.a})`\r\n\t\tlet distance = distanceFromMouse(particle.x, particle.y, mouse.x, mouse.y)\r\n\t\tlet shift = 1 / distance * 6\r\n\r\n\t\tfor(var ax of ['x', 'y']) {\r\n\t\t\tparticle[ax] += particle['d'+ax]\r\n\t\t\tparticle['d'+ax] += (Math.random() - 0.5) * animation.move\r\n\t\t\tparticle['d'+ax] -= Math.sign(particle[ax] - particle['l'+ax]) * animation.pull\r\n\t\t\tparticle['d'+ax] *= animation.dampen\r\n\t\t\tparticle['d'+ax] -= Math.sign(mouse[ax]-particle[ax]) * shift\r\n\t\t}\r\n\r\n\t\tdraw.fillCircle(particle.x, particle.y, animation.radius, color)\r\n\t}\r\n}\r\n\r\n/*\r\n* Canvas Draw Object\r\n*\r\n* @Params: {ctx} -> canvas context\r\n*\r\n* Prototypes:\r\n* - setText\t\t\t-> setup text property\r\n* - fillText\t\t-> drawing text on canvas with fill property\r\n* - strokeText\t-> drawing text on canvas with stroke color property\r\n* - fillCircle\t-> drawing circle on canvas with fill color property\r\n* - clear\t\t\t\t-> to clean the canvas\r\n*/\r\nfunction Draw(ctx){\r\n\tthis.ctx = ctx\r\n\tthis.canvas = canvas\r\n\r\n\tthis.setText = proporty => {\r\n\t\tfor(let option in proporty){\r\n\t\t\tthis.ctx[option] = proporty[option]\r\n\t\t}\r\n\t}\r\n\r\n\tthis.fillText = (text, x, y) => {\r\n\t\tthis.ctx.fillText(text, x, y);\r\n\t}\r\n\r\n\tthis.strokeText = (text, x, y,) => {\r\n\t\tthis.ctx.strokeText(text, x, y)\r\n\t}\r\n\r\n\tthis.fillCircle = (x, y, radius, color) => {\r\n\t\tthis.ctx.beginPath()\r\n\t\tthis.ctx.arc(x, y, radius, 0, Math.PI*2)\r\n\t\tif (color) this.ctx.fillStyle = color\r\n\t\tthis.ctx.fill()\r\n\t}\r\n\r\n\tthis.clear = () =>{\r\n\t\tthis.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)\r\n\t}\r\n}\r\n\r\n/*\r\n* Distance function from mouse position\r\n*/\r\nfunction distanceFromMouse(x, y, mX, mY){\r\n\treturn Math.sqrt(Math.pow( Math.pow(x - mX, 2) + y - mY, 2))\r\n}\r\n\r\n/*\r\n* Mouse position event\r\n* @Params: {canvas} -> html canvas element\r\n* resutl: mouse.x and mouse.y\r\n*/\r\nfunction Mouse(canvas) {\r\n\tthis.x = 0\r\n\tthis.y = 0\r\n\tthis.canvas = canvas\r\n\tthis.canvas.addEventListener('mousemove', function(e) {\r\n\t\tthis.x = e.offsetX\r\n\t\tthis.y = e.offsetY\r\n\t}.bind(this))\r\n\tthis.canvas.addEventListener('mouseleave', function(e) {\r\n\t\tthis.x = -100\r\n\t\tthis.y = -100\r\n\t}.bind(this))\r\n}\r\n"],"sourceRoot":""}